<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Simple Simon</title>
	<link rel="stylesheet" type="text/css" href="/simple.css">
</head>
<body>
<h2 id="title">BMO Says....</h2>
<div id="infoBox">
	Score:     
	Level:    
</div>
<div id="bmoHimself">
	<div id="gameStatus">
		You LOST!!!!!
	</div>
<!-- <script type="text/javascript" src="simplesimon.js"></script> -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<div id="buttonInterface">
		<div id="leftButtons">
			<div class="buttons" id="cross" data-value="1"></div>
			<div id="gameOperators">
				<button id="start">Start</button>
				<button id="select">Select</button>
			</div>
		</div>
		<div id="rightButtons">
			<div class="buttons" id="triangle" data-value="2"></div>
			<div class="buttons" id="largeCircle" data-value="3"></div>
			<div class="buttons" id="smallCircle" data-value="4"></div>
		</div>
	</div>
<script>

//functions//
var pattern = [];
var index = 0;
var highScore = 2000; 
var active;
var buttons;

//function startGame () {
//	pattern = [];
//	userInput = [];
//	level = 0;
//	active = true;
//		$('p[data-action="lose"]').hide();
//		$('#start').on('click', function ();
//	newLevel();
//}

//function newLevel() {
//	 $('[data-level]').text(++level);
//		 colorSequence.push(randomNumber());
//		 animate(colorSequence);
//}	

function randomNumber() {
	var random = Math.floor(Math.random() * (4)) + 1;
	return random;
}

function animateButtons(array) {
	var i = 0;
	var solution = setInterval(function(){
		$('[data-value=' + array[i] + ']').animate({
			opacity: "1"
		}, 500).animate({
			opacity: ".5"
		}, 500);
		i++;
		if(i == array.length) {
			clearInterval(solution);
		}; 
	}, 500)
}
function runTheGame() {
	var interval = setTimeout( function() {
		pattern.push(randomNumber());
		animateButtons(pattern);
		index++;
	}, 500);
}
//function solution () {
//	userInput.push($('.buttons'))
//}
//		if (index == pattern.length) {
//			pattern.length = 0;
//		}
//buttons//
	var i = 0

$('.buttons').click(function() {
	$(this).animate({
		opacity: "1"
	}, 250).animate({
		opacity: ".5"
	});
	if (pattern[i] == $(this).data("value")) {
		i++;
		console.log($(this).data('value'));
		if(pattern.length == i) {
			i = 0;
			pattern.push(randomNumber());
			console.log(pattern);
			animateButtons(pattern);
		} 
	} else {
		i = 0;
		pattern = [];
	}
});





$('#start').click(function(){
	runTheGame();
});


</script>
</div>
</body>
</html>